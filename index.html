<!DOCTYPE html>
<html lang="es">
<head>
  <title>Sistema de gestión de activos: Control de entrada y salida</title>
  <!--El elemento <link> define la relación entre el documento actual y un recurso externo-->
  <link rel="stylesheet" href="styles.css">
  <!--Juego de caracteres utilizado-->
  <meta charset="UTF-8">
  <!--Descripción de la página web-->
  <meta name="description" content="Sistema de gestión de activos: Control de entrada y salida">
  <!--Autor de la página-->
  <meta name="author" content="Gabriel Canizales">
  <!--Configuración de la ventana gráfica para que el sitio web se vea bien en todos los dispositivos-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">  
</head>

<body>
  <h1>Sistema de gestión de activos: Control de entrada y salida</h1>
  <form method="POST" action="registrar_movimiento.php" onsubmit="return validarFormulario()">
  <fieldset>
    <legend>Registro de Movimiento</legend>
    <!--
    <div>
      <label for="folio">Número de Folio:</label>
      <input type="text" id="folio" name="folio" required>
    </div>
    -->
    <div>
  <label for="folio">Número de Folio:</label>
  <input type="text" id="folio" name="folio" value="" readonly>
</div>
    <!--
<script>
   // Obtener el nombre de la unidad (puedes cambiar "Nombre de la Unidad" por el nombre correspondiente)
  const unidad = "Nombre de la Unidad";
    
  // Obtener el número consecutivo del formulario (se puede almacenar en una variable o en una base de datos)
  const numeroConsecutivo = 1; // Ejemplo: el primer formulario
    
  // Generar el número de folio con el formato adecuado
  const folio = `${unidad}-${numeroConsecutivo}`;
    
  // Asignar el valor del número de folio al input correspondiente
  document.getElementById("folio").value = folio;
</script>
    -->
<script>
  // Obtener el elemento select de la unidad
const unidadSelect = document.getElementById("unidad");

// Obtener el valor seleccionado del select
const unidadValue = unidadSelect.value;

// Obtener el número consecutivo del formulario
// Aquí deberás implementar la lógica para generar el número consecutivo
const consecutivo = obtenerNumeroConsecutivo();

// Generar el número de folio
const folio = `${unidadValue}-${consecutivo}`;

// Asignar el valor del número de folio al input correspondiente
document.getElementById("folio").value = folio;
  
// Variable global para almacenar el número consecutivo del formulario
let numeroConsecutivo = 1;

// Función para obtener el número consecutivo del formulario
function obtenerNumeroConsecutivo() {
  const consecutivo = numeroConsecutivo.toString().padStart(3, "0");
  numeroConsecutivo++;
  return consecutivo;
}

</script>
    <div>
      <label for="tipo">Tipo de Movimiento:</label>
      <select id="tipo" name="tipo">
        <option value="entrada">Entrada</option>
        <option value="salida">Salida</option>
      </select>
    </div>
    <div>
      <label for="fecha">Fecha:</label>
      <input type="date" id="fecha" name="fecha" required>
      <label for="hora">Hora:</label>
      <input type="time" id="hora" name="hora" required>
    </div>
    <div>
      <label for="unidad">Casa:</label>
      <select id="unidad" name="unidad">
        <option value="unidad1">Unidad 1</option>
        <option value="unidad2">Unidad 2</option>
        <option value="unidad3">Unidad 3</option>
        <option value="unidad4">Unidad 4</option>
        <option value="unidad5">Unidad 5</option>
        <option value="unidad6">Unidad 6</option>
        <option value="unidad7">Unidad 7</option>
      </select>
    </div>
    <div>
      <label for="inventario">Número de Inventario:</label>
      <input type="text" id="inventario" name="inventario" required>
    </div>
    <div>
      <label for="descripcion">Descripción:</label>
      <textarea id="descripcion" name="descripcion" rows="3" cols="30" required></textarea>
    </div>
    <div>
      <label for="motivo">Motivo:</label>
      <select id="motivo" name="motivo">
        <option value="mantenimiento">Mantenimiento</option>
        <option value="prestamo">Préstamo</option>
        <option value="traslado">Traslado</option>
        <option value="otro">Otro</option>
      </select>
    </div>
    <div>
      <label for="solicitante">Solicitante:</label>
      <input type="text" id="solicitante" name="solicitante" required>
    </div>
    <div>
      <label for="area_solicitante">Área de Adscripción:</label>
      <input type="text" id="area_solicitante" name="area_solicitante" required>
    </div>
    <div>
      <label for="receptor">Personal que Recibe:</label>
      <input type="text" id="receptor" name="receptor" required>
    </div>
    <div>
      <label for="area_receptor">Área de Adscripción:</label>
      <input type="text" id="area_receptor" name="area_receptor" required>
    </div>
    <div>
      <label for="autorizado_por">Personal que Autoriza el Traslado:</label>
      <input type="text" id="autorizado_por" name="autorizado_por" required>
    </div>
    <div>
      <label for="observaciones">Observaciones:</label>
      <textarea id="observaciones" name="observaciones" rows="3" cols="30"></textarea>
    </div>
    <div>
      <input type="submit" value="Registrar Movimiento">
    </div>
  </form>
  <script>
    // Aquí va tu código JavaScript
    function validarFormulario() {
  var folio = document.getElementById("folio").value;
  var fecha = document.getElementById("fecha").value;
  var hora = document.getElementById("hora").value;
  var inventario = document.getElementById("inventario").value;
  var solicitante = document.getElementById("solicitante").value;
  var area_solicitante = document.getElementById("area_solicitante").value;
  var receptor = document.getElementById("receptor").value;
  var area_receptor = document.getElementById("area_receptor").value;
  var autorizado_por = document.getElementById("autorizado_por").value;

  if (folio == "") {
    alert("Por favor ingrese el número de folio.");
    return false;
  }

  if (fecha == "") {
    alert("Por favor ingrese la fecha.");
    return false;
  }

  if (hora == "") {
    alert("Por favor ingrese la hora.");
    return false;
  }

  if (inventario == "") {
    alert("Por favor ingrese el número de inventario.");
    return false;
  }

  if (solicitante == "") {
    alert("Por favor ingrese el nombre del solicitante.");
    return false;
  }

  if (area_solicitante == "") {
    alert("Por favor ingrese el área de adscripción del solicitante.");
    return false;
  }

  if (receptor == "") {
    alert("Por favor ingrese el nombre del receptor.");
    return false;
  }

  if (area_receptor == "") {
    alert("Por favor ingrese el área de adscripción del receptor.");
    return false;
  }

  if (autorizado_por == "") {
    alert("Por favor ingrese el nombre de la persona que autoriza el traslado.");
    return false;
  }

  return true;
}
  </script>
 </body>
</html>
